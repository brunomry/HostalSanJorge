import{traducciones}from './traducciones.min.js';const btnWppFijo=document.getElementById('btnWhatsAppFixed');const opcionEs=document.getElementById('optionEs');const opcionEn=document.getElementById('optionEn');const linkWppFijo='https://wa.me/+5493876843082';const obtenerIdioma=()=>{const idiomaActual=localStorage.getItem('idiomaKey');if(idiomaActual)
cambiarIdioma(idiomaActual)}
const cambiarIdioma=idioma=>{const traduccion=traducciones[idioma];if(traduccion){const elementoBody=document.body;cambiarTraduccion(elementoBody,traduccion,idioma);localStorage.setItem('idiomaKey',idioma)}}
const formatearTexto=texto=>texto.replace(/\s+/g,' ').trim();const cambiarTraduccion=(elemento,traduccion,idioma)=>{if(elemento.nodeType===Node.TEXT_NODE&&elemento.textContent.trim()!==''){let textoFormateado=formatearTexto(elemento.textContent);if(idioma==='en'){for(const key in traduccion){if(traducciones.es[key]===textoFormateado){elemento.textContent=traducciones.en[key];break}}}else if(idioma==='es'){for(const key in traduccion){if(traducciones.en[key]===textoFormateado){elemento.textContent=traducciones.es[key];break}}}}
elemento.childNodes.forEach(nodoHijo=>{cambiarTraduccion(nodoHijo,traduccion,idioma)})}
obtenerIdioma();opcionEs.addEventListener('click',(e)=>{cambiarIdioma('es')})
opcionEn.addEventListener('click',(e)=>{cambiarIdioma('en')})
btnWppFijo.addEventListener('click',()=>window.open(linkWppFijo,'_blank'))

window.addEventListener('load', function() {
  const cargarEstilos = () => {
      let urlActual = window.location.href;
      let estilosAUsar = '';

      switch (true) {
          case urlActual.includes('index.html'):
              estilosAUsar = './CSS/index.min.css';
              break;
          case urlActual.includes('habitaciones.html'):
              estilosAUsar = '../CSS/habitaciones.min.css';
              break;
          case urlActual.includes('galeria.html'):
              estilosAUsar = '../CSS/galeria.min.css';
              break;
          case urlActual.includes('comoLlegar.html'):
              estilosAUsar = '../CSS/comoLlegar.min.css';
              break;
          case urlActual.includes('preguntasFrecuentes.html'):
              estilosAUsar = '../CSS/preguntasFrecuentes.min.css';
              break;
          default:
              break;
      }

      let linkEstilos = document.createElement('link');
      linkEstilos.rel = 'stylesheet';
      linkEstilos.href = estilosAUsar;
      document.head.appendChild(linkEstilos);
  }

  cargarEstilos();
});
